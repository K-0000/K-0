{% extends "posApp/base.html" %} {% block pageContent %}{% csrf_token %}
<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <div class="mdc-card py-2">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="card-title mb-0">Prepaid List</h4>
        </div>
    </div>
</div>
<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <div class="mdc-card">
    <form method="POST" action="{% url 'prestock' %}">
        <div class="mdc-card">
        {% csrf_token %}
        {{ form }}
            <br>
        <button>SUBMIT</button>
        </div>
    </form>
    </div>
    <div class="mdc-card">
        <input type="search" class="form-control rounded" placeholder="Search..." aria-label="Search" aria-describedby="search-addon" name="filter_search_name" id="filter_search_name" style="margin-bottom: 1.5rem; width: auto;"></input>
        <div class="table-responsive table-limited table-larger">
            <table class="table table-striped table-bordered" >
                <colgroup>
                    <col width="5%">
                    <col width="20%">
                    <col width="20%">
                    <col width="25%">
                    <col width="15%">
                    <col width="15%">
                </colgroup>
                <thead>
                    <tr>
                        <th class="text-center py-1">Date</th>
                        <th class="text-center py-1">Product</th>
                        <th class="text-center py-1">Customer</th>
                        <th class="text-center py-1">Quantity</th>
                        <th class="text-center py-1">Receipt No</th>
                        <th class="text-center py-1">Status</th>
                    </tr>
                </thead>
                <tbody name="prestock_list" id="prestock_list">
                    {% for stock in stocks %}
                    <tr>
                        <td class="px-2 py-1 text-center">{{ stock.date_created}}</td>
                        <td class="px-2 py-1 text-center">{{ stock.product}}</td>
                        <td class="px-2 py-1 text-center" name="prestock_customer_name" id="prestock_customer_name">{{ stock.customer}}</td>
                        <td class="px-2 py-1 text-center">{{ stock.quantity}}</td>
                        <td class="px-2 py-1 text-center">{{ stock.code}}</td>
                        <td class="px-2 py-1 text-center">
                            {% if stock.type == 1 %}<span class="badge bg-primary rounded-pill px-3">Stockin</span>
                            {% else%}<span class="badge bg-secondary rounded-pill px-3">Stockout</span>{% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <div class="mdc-card">
        <div class="table-responsive table-limited table-larger">
            <table class="table table-striped table-bordered">
                <colgroup>
                    <col width="30%">
                    <col width="50%">
                    <col width="20%">
                </colgroup>
                <thead>
                    <tr>
                        <th class="text-center py-1">Name</th>
                        <th class="text-center py-1">Code</th>
                        <th class="text-center py-1">qty</th>
                    </tr>
                </thead>
                <tbody>
                {% for customer in customers %}
                    {% if customer.count_pre > 0%}
                        <tr>
                            <td class="px-2 py-1 text-center">{{ customer.customerID}}</td>
                            <td class="px-2 py-1 text-center">{{ customer.code}}</td>
                            <td class="px-2 py-1 text-center">{{ customer.count_pre}}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock pageContent %} {% block ScriptBlock %}
<script>
</script>
<script>
$(document).ready(function(){
    $("#filter_search_name").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#prestock_list > tr").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
        });
    });
});
</script> 
{% endblock ScriptBlock %}